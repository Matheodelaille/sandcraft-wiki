<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandcraft Wiki - Modpack Minecraft</title>
    <style>
        /* RESET ET BASE */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #1a1a1a url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" opacity="0.05"><rect fill="%23333" width="100" height="100"/></svg>');
            font-family: 'Minecraft', monospace; 
            color: #fff; 
            line-height: 1.6;
        }
        
        /* HEADER STYLE MINECRAFT */
        .header {
            background: linear-gradient(135deg, #2a5c2a 0%, #3a7a3a 100%);
            border-bottom: 4px solid #5a3c2a;
            padding: 1rem 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 3px 3px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000;
        }
        
        .nav-tabs {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .nav-tab {
            background: #4a4a4a;
            border: 2px solid #8b8b8b;
            border-radius: 4px;
            padding: 0.5rem 1rem;
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .nav-tab:hover {
            background: #5a5a5a;
            border-color: #9b9b9b;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-content">
            <div class="logo">üß± Sandcraft Wiki</div>
            <nav class="nav-tabs">
                <a href="#" class="nav-tab" data-category="accueil">üè† Accueil</a>
                <a href="#" class="nav-tab" data-category="technologie">‚öôÔ∏è Technologie</a>
                <a href="#" class="nav-tab" data-category="magie">üîÆ Magie</a>
                <a href="#" class="nav-tab" data-category="agriculture">üåæ Agriculture</a>
                <a href="#" class="nav-tab" data-category="exploration">üó∫Ô∏è Exploration</a>
                <a href="#" class="nav-tab" data-category="decoration">üé® D√©coration</a>
                <a href="#" class="nav-tab" data-category="utilitaires">üõ†Ô∏è Utilitaires</a>
            </nav>
        </div>
    </header>

    <!-- CONTENU PRINCIPAL -->
    <main id="main-content" class="main-content">
        <!-- Le contenu des cat√©gories sera charg√© ici -->
    </main>

    <!-- SUITE DANS LA PARTIE 2... -->
<style>
    /* CONTENU PRINCIPAL */
    .main-content {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    /* PAGE D'ACCUEIL */
    .welcome-page {
        text-align: center;
        padding: 3rem 1rem;
    }

    .welcome-title {
        font-size: 3rem;
        color: #ffd700;
        text-shadow: 3px 3px 0 #000;
        margin-bottom: 1rem;
    }

    .welcome-subtitle {
        font-size: 1.5rem;
        color: #aaa;
        margin-bottom: 2rem;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
    }

    .stat-card {
        background: #2a2a2a;
        border: 2px solid #5a5a5a;
        border-radius: 8px;
        padding: 1.5rem;
        text-align: center;
    }

    .stat-number {
        font-size: 2rem;
        color: #4CAF50;
        font-weight: bold;
    }

    /* GRILLE DES MODS */
    .category-section {
        display: none;
        animation: fadeIn 0.3s ease-in;
    }

    .category-section.active {
        display: block;
    }

    .category-title {
        font-size: 2rem;
        color: #ffd700;
        text-shadow: 2px 2px 0 #000;
        margin-bottom: 1.5rem;
        border-bottom: 3px solid #5a3c2a;
        padding-bottom: 0.5rem;
    }

    .mods-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.5rem;
        margin-bottom: 3rem;
    }

    /* CARTE MOD STYLE MINECRAFT */
    .mod-card {
        background: linear-gradient(145deg, #2a2a2a, #3a3a3a);
        border: 3px solid #8b8b8b;
        border-radius: 8px;
        padding: 1.5rem;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .mod-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #4CAF50, #45a049);
    }

    .mod-card:hover {
        transform: translateY(-5px);
        border-color: #ffd700;
        box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
    }

    .mod-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .mod-icon {
        width: 48px;
        height: 48px;
        background: #4a4a4a;
        border: 2px solid #8b8b8b;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .mod-name {
        font-size: 1.3rem;
        font-weight: bold;
        color: #fff;
    }

    .mod-stats {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        color: #aaa;
        margin-top: 1rem;
    }

    .mod-stat {
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }

    /* ANIMATIONS */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* LOADING */
    .loading {
        text-align: center;
        padding: 3rem;
        font-size: 1.2rem;
        color: #aaa;
    }

    .hidden {
        display: none;
    }
</style>

<!-- CONTENU DES CAT√âGORIES -->
<div id="category-content">
    <!-- PAGE D'ACCUEIL -->
    <div id="accueil" class="category-section active">
        <div class="welcome-page">
            <h1 class="welcome-title">üß± Wiki Sandcraft</h1>
            <p class="welcome-subtitle">Le guide complet de ton aventure modd√©e</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-mods">0</div>
                    <div>Mods Install√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-recipes">0</div>
                    <div>Recettes Document√©es</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-items">0</div>
                    <div>Items R√©pertori√©s</div>
                </div>
            </div>
        </div>
    </div>

    <!-- CAT√âGORIES DE MODS (seront remplis par JavaScript) -->
    <div id="technologie" class="category-section"></div>
    <div id="magie" class="category-section"></div>
    <div id="agriculture" class="category-section"></div>
    <div id="exploration" class="category-section"></div>
    <div id="decoration" class="category-section"></div>
    <div id="utilitaires" class="category-section"></div>
</div>

<!-- SUITE DANS LA PARTIE 3... -->
<script>
// CONFIGURATION DES CAT√âGORIES
// CONFIGURATION CORRIG√âE AVEC LES VRAIS NOMS DE MODS
const modCategories = {
    technologie: {
        name: "‚öôÔ∏è Technologie & Automatisation",
        color: "#4CAF50",
        mods: [
            'create-1.19.2-0.5.1.f', 'appliedenergistics2-forge-12.9.9', 
            'pneumaticcraft-repressurized-1.19.2-4.3.14-49', 'immersiveEngineering-1.19.2-9.2.3-167',
            'thermal-foundation-1.19.2-10.3.0.19', 'thermal-expansion-1.19.2-10.3.0.19',
            'rftools-base-1.19-5.2.10', 'rftools-builder-1.19-5.2.12', 'rftools-utility-1.19-5.2.14',
            'xnet-1.19-5.1.4', 'integrateddynamics-1.19.2-1.16.8', 'computercraft-1.19.2-1.101.4',
            'AE2-Things-1.1.1', 'AEInfinityBooster-1.19.2-1.2.0+11', 'arseng-1.0.0'
        ]
    },
    magie: {
        name: "üîÆ Magie & Mysticisme", 
        color: "#9C27B0",
        mods: [
            'ars_nouveau-1.19.2-3.23.0', 'Botania-1.19.2-440-FORGE',
            'arsomega-1.19.2-3.2.0-beta-1', 'ars_elemental-1.19.2-0.5.9.4',
            'ars_instrumentum-1.19.2-3.4.5', 'ars_scalaes-1.19.2-1.10.3',
            'ars_creo-1.19.2-3.2.1', 'evilcraft-1.19.2-1.2.20',
            'corail_tombstone-1.19-8.2.17', 'forbidden_arcanus-1.19.2-2.1.3'
        ]
    },
    agriculture: {
        name: "üåæ Agriculture & Nourriture",
        color: "#8BC34A",
        mods: [
            'farmersdelight-1.19-1.2.2', 'mysticalagriculture-1.19.2-5.1.9',
            'PamsHarvestCraft-1.19.2-1.0.3', 'croptopia-1.19.2-FORGE-2.2.2',
            'cookingforblockheads-forge-1.19.2-13.3.4', 'alexsdelight-1.4.1',
            'endersdelight-1.19-1.2.2', 'Aquaculture-1.19.2-2.4.8',
            'farmingforblockheads-forge-1.19.2-11.3.0', 'Delightful-1.19.2-3.4.1'
        ]
    },
    exploration: {
        name: "üó∫Ô∏è Exploration & Aventure",
        color: "#FF9800",
        mods: [
            'BiomesOPlenty-1.19.2-17.1.2.544', 'terralith-1.19.2-2.3.10',
            'dungeonsarise-2.2.1.5-beta', 'dungeons_enhanced-1.19.2-4.1',
            'YungsBetterDungeons-1.19.2-Forge-3.2.2', 'YungsBetterStrongholds-1.19.2-Forge-3.2.0',
            'YungsExtras-1.19.2-Forge-3.1.0', 'awesomedungeon-forge-1.19.2-3.2.0',
            'repurposed_structures-1.19.2-6.3.18', 'valhelsia_structures-1.19.2-1.0.0',
            'aquamirae-6.AP115', 'deeperdarker-forge-1.19.2-1.2.2'
        ]
    },
    decoration: {
        name: "üé® D√©coration & Construction", 
        color: "#00BCD4",
        mods: [
            'another_furniture-forge-1.19.2-2.1.4', 'Decorative Blocks-Forge-1.19.2-3.0.0',
            'macawsbridges-1.19.2-3.0.0', 'macawsdoors-1.19.2-2.0.1',
            'macawsroofs-1.19.2-3.0.0', 'macawswindows-1.19.2-2.1.1',
            'buildersaddition-1.19.2-20220926', 'chisel-1.19.2-3.0.0',
            'supplementaries-1.19.2-2.3.10', 'comforts-forge-6.0.7+1.19.2'
        ]
    },
    utilitaires: {
        name: "üõ†Ô∏è Utilitaires & Qualit√© de Vie",
        color: "#795548",
        mods: [
            'jei-1.19.2-forge-11.6.0.1013', 'journeymap-1.19.2-5.9.7-forge',
            'sophisticatedbackpacks-1.19.2-3.18.54.907', 'ironchest-1.19.2-14.2.6',
            'storagedrawers-1.19-11.1.2', 'gravestone-1.19-1.0.3',
            'waystones-forge-1.19.2-11.4.0', 'fastleafdecay-1.19.2-28',
            'fallingtree-1.19.2-3.9.2', 'appleskin-forge-mc1.19-2.4.2',
            'BetterAdvancements-1.19.2-0.2.2.147', 'controlling-forge-1.19.2-10.0+7'
        ]
    }
};

// √âMOJIS POUR LES MODS
const modIcons = {
    create: '‚öôÔ∏è', appliedenergistics2: 'üîã', refinedstorage: 'üíæ', pneumaticcraft: 'üí®',
    ars_nouveau: '‚ú®', botania: 'üå∫', bloodmagic: 'ü©∏', farmersdelight: 'üç≤',
    mysticalagriculture: 'üå±', biomesoplenty: 'üå≥', terralith: 'üèîÔ∏è', macaws: 'ü™ü',
    jei: 'üìñ', journeymap: 'üó∫Ô∏è', sophisticatedbackpacks: 'üéí', thermal: 'üî•',
    mekanism: '‚ö°', immersiveengineering: 'üî©', twilightforest: 'üå≤', dungeons_arise: 'üè∞'
};

// VARIABLES GLOBALES
let gameData = null;

// CHARGEMENT DES DONN√âES
async function loadGameData() {
    try {
        showLoading();
        
        const response = await fetch('data/complete-data.json');
        gameData = await response.json();
        
        console.log('‚úÖ Donn√©es charg√©es:', gameData);
        
        // Mettre √† jour les stats
        updateStats();
        
        // Organiser les mods par cat√©gories
        organizeModsByCategory();
        
        // Afficher la page d'accueil
        showCategory('accueil');
        
        hideLoading();
        
    } catch (error) {
        console.error('‚ùå Erreur chargement donn√©es:', error);
        showError('Impossible de charger les donn√©es du wiki');
    }
}

// METTRE √Ä JOUR LES STATISTIQUES
function updateStats() {
    if (!gameData) return;
    
    document.getElementById('total-mods').textContent = Object.keys(gameData.mods).length;
    document.getElementById('total-recipes').textContent = gameData.metadata.totalRecipes.toLocaleString();
    document.getElementById('total-items').textContent = gameData.metadata.totalItems.toLocaleString();
}

// ORGANISER LES MODS PAR CAT√âGORIE
function organizeModsByCategory() {
    for (const [categoryId, category] of Object.entries(modCategories)) {
        const categoryElement = document.getElementById(categoryId);
        if (!categoryElement) continue;
        
        // Cr√©er le contenu de la cat√©gorie
        categoryElement.innerHTML = `
            <h2 class="category-title">${category.name}</h2>
            <div class="mods-grid" id="grid-${categoryId}">
                ${generateModsGrid(category.mods)}
            </div>
        `;
    }
}

// G√âN√âRER LA GRILLE DES MODS POUR UNE CAT√âGORIE
function generateModsGrid(modList) {
    if (!gameData) return '<div class="loading">Chargement...</div>';
    
    let html = '';
    
    modList.forEach(modId => {
        // Chercher le mod dans les donn√©es
        const modData = findModData(modId);
        if (!modData) return;
        
        const icon = modIcons[modId] || 'üì¶';
        const recipeCount = countModRecipes(modId);
        const itemCount = countModItems(modId);
        
        html += `
            <div class="mod-card" onclick="openModPage('${modId}')">
                <div class="mod-header">
                    <div class="mod-icon">${icon}</div>
                    <div class="mod-name">${formatModName(modData.name)}</div>
                </div>
                <div class="mod-description">
                    ${getModDescription(modId)}
                </div>
                <div class="mod-stats">
                    <div class="mod-stat">üìú ${recipeCount} crafts</div>
                    <div class="mod-stat">üéØ ${itemCount} items</div>
                </div>
            </div>
        `;
    });
    
    return html || '<div class="no-mods">Aucun mod trouv√© dans cette cat√©gorie</div>';
}

// FONCTIONS UTILITAIRES
function findModData(modId) {
    if (!gameData) return null;
    
    // Chercher par ID exact
    const exactMatch = gameData.mods[modId];
    if (exactMatch) return exactMatch;
    
    // Chercher par nom de fichier
    for (const [id, mod] of Object.entries(gameData.mods)) {
        if (mod.name.toLowerCase().includes(modId.toLowerCase())) {
            return mod;
        }
    }
    
    return null;
}

function countModRecipes(modId) {
    if (!gameData) return 0;
    return Object.keys(gameData.recipes).filter(key => key.includes(modId)).length;
}

function countModItems(modId) {
    if (!gameData) return 0;
    return Object.keys(gameData.items).filter(key => key.includes(modId)).length;
}

function formatModName(filename) {
    return filename
        .replace('.jar', '')
        .replace(/[_-]/g, ' ')
        .replace(/\b\w/g, l => l.toUpperCase());
}

function getModDescription(modId) {
    const descriptions = {
        create: 'Syst√®me de m√©canismes et automatisation avec engrenages et courroies',
        appliedenergistics2: 'Syst√®me de stockage num√©rique et automatisation avanc√©e',
        ars_nouveau: 'Magie des sorts et enchantements personnalisables',
        botania: 'Magie naturelle bas√©e sur les fleurs et la mana',
        farmersdelight: 'Cuisine r√©aliste et agriculture am√©lior√©e',
        mysticalagriculture: 'Culture de ressources avec des plantes magiques',
        biomesoplenty: 'Ajout de nombreux biomes et d√©cors vari√©s'
    };
    
    return descriptions[modId] || 'Mod ajoutant de nouveaux contenus et m√©caniques';
}

// SUITE DANS LA PARTIE 4...
<script>
// FONCTIONS D'AFFICHAGE ET DE NAVIGATION
function showCategory(categoryId) {
    // Masquer toutes les sections
    document.querySelectorAll('.category-section').forEach(section => {
        section.classList.remove('active');
    });
    
    // Afficher la section demand√©e
    const targetSection = document.getElementById(categoryId);
    if (targetSection) {
        targetSection.classList.add('active');
    }
    
    // Mettre √† jour l'onglet actif
    updateActiveTab(categoryId);
}

function updateActiveTab(activeCategory) {
    document.querySelectorAll('.nav-tab').forEach(tab => {
        if (tab.dataset.category === activeCategory) {
            tab.style.background = '#5a5a5a';
            tab.style.borderColor = '#ffd700';
        } else {
            tab.style.background = '#4a4a4a';
            tab.style.borderColor = '#8b8b8b';
        }
    });
}

function openModPage(modId) {
    // Pour l'instant, on affiche juste une alerte
    // Plus tard, √ßa ouvrira la page d√©taill√©e du mod
    const modData = findModData(modId);
    if (modData) {
        alert(`Ouverture du mod: ${formatModName(modData.name)}\n\n` +
              `üìú Crafts: ${countModRecipes(modId)}\n` +
              `üéØ Items: ${countModItems(modId)}`);
    }
}

function showLoading() {
    const mainContent = document.getElementById('main-content');
    mainContent.innerHTML = `
        <div class="loading">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚è≥</div>
            Chargement de la base de donn√©es Sandcraft...<br>
            <small>43,000+ crafts ‚Ä¢ 23,000+ items ‚Ä¢ 255 mods</small>
        </div>
    `;
}

function hideLoading() {
    // Le contenu est d√©j√† charg√© via organizeModsByCategory()
}

function showError(message) {
    const mainContent = document.getElementById('main-content');
    mainContent.innerHTML = `
        <div class="loading" style="color: #ff6b6b;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚ùå</div>
            ${message}<br>
            <button onclick="loadGameData()" style="
                margin-top: 1rem;
                padding: 0.5rem 1rem;
                background: #4CAF50;
                border: 2px solid #8b8b8b;
                border-radius: 4px;
                color: white;
                cursor: pointer;
                font-family: inherit;
            ">R√©essayer</button>
        </div>
    `;
}

// √âCOUTEURS D'√âV√âNEMENTS
function setupEventListeners() {
    // Navigation par onglets
    document.querySelectorAll('.nav-tab').forEach(tab => {
        tab.addEventListener('click', (e) => {
            e.preventDefault();
            const category = tab.dataset.category;
            showCategory(category);
        });
    });
    
    // Recherche (√† impl√©menter plus tard)
    setupSearchFunctionality();
}

function setupSearchFunctionality() {
    // Placeholder pour la fonction de recherche
    // √Ä d√©velopper dans une future version
    console.log('üîç Fonction de recherche √† impl√©menter');
}

// FONCTION DE FILTRAGE DES MODS (pour recherche future)
function filterMods(searchTerm) {
    if (!gameData) return;
    
    const searchLower = searchTerm.toLowerCase();
    
    for (const [categoryId, category] of Object.entries(modCategories)) {
        const gridElement = document.getElementById(`grid-${categoryId}`);
        if (!gridElement) continue;
        
        const filteredMods = category.mods.filter(modId => {
            const modData = findModData(modId);
            if (!modData) return false;
            
            const modName = formatModName(modData.name).toLowerCase();
            return modName.includes(searchLower) || 
                   modId.toLowerCase().includes(searchLower);
        });
        
        gridElement.innerHTML = generateModsGrid(filteredMods);
    }
}

// GESTION DES FAVORIS (pour future fonctionnalit√©)
function toggleFavorite(modId) {
    let favorites = JSON.parse(localStorage.getItem('sandcraft-favorites') || '[]');
    
    if (favorites.includes(modId)) {
        favorites = favorites.filter(id => id !== modId);
    } else {
        favorites.push(modId);
    }
    
    localStorage.setItem('sandcraft-favorites', JSON.stringify(favorites));
    updateFavoritesDisplay();
}

function updateFavoritesDisplay() {
    // √Ä impl√©menter quand on aura une section favoris
}

// INITIALISATION AU CHARGEMENT DE LA PAGE
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Initialisation du Wiki Sandcraft...');
    
    // Configurer les √©v√©nements
    setupEventListeners();
    
    // Charger les donn√©es
    loadGameData();
    
    // Afficher la version
    console.log('üìñ Sandcraft Wiki v1.0 - Pr√™t !');
});

// FONCTIONS POUR LE D√âVELOPPEMENT FUTUR
function exportModData() {
    // Pour exporter des donn√©es sp√©cifiques (d√©veloppement)
    if (!gameData) return;
    
    const createData = {
        recipes: Object.entries(gameData.recipes)
            .filter(([key]) => key.includes('create:'))
            .reduce((obj, [key, val]) => { obj[key] = val; return obj; }, {}),
        items: Object.entries(gameData.items)
            .filter(([key]) => key.includes('create:'))
            .reduce((obj, [key, val]) => { obj[key] = val; return obj; }, {})
    };
    
    console.log('üìÅ Donn√©es Create:', createData);
}

// UTILITAIRES POUR LE D√âBUGAGE
window.sandcraftUtils = {
    getGameData: () => gameData,
    getModCount: () => gameData ? Object.keys(gameData.mods).length : 0,
    exportMod: (modId) => {
        if (!gameData) return null;
        return {
            recipes: Object.entries(gameData.recipes)
                .filter(([key]) => key.includes(modId))
                .reduce((obj, [key, val]) => { obj[key] = val; return obj; }, {}),
            items: Object.entries(gameData.items)
                .filter(([key]) => key.includes(modId))
                .reduce((obj, [key, val]) => { obj[key] = val; return obj; }, {})
        };
    }
};
</script>

<!-- STYLE COMPL√âMENTAIRE -->
<style>
    .no-mods {
        grid-column: 1 / -1;
        text-align: center;
        padding: 2rem;
        color: #aaa;
        font-style: italic;
    }
    
    .mod-description {
        color: #ccc;
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 1rem;
        min-height: 40px;
    }
    
    /* RESPONSIVE */
    @media (max-width: 768px) {
        .header-content {
            flex-direction: column;
            gap: 1rem;
        }
        
        .nav-tabs {
            justify-content: center;
        }
        
        .mods-grid {
            grid-template-columns: 1fr;
        }
        
        .welcome-title {
            font-size: 2rem;
        }
    }
    
    @media (max-width: 480px) {
        .nav-tab {
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
        }
        
        .stat-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

</body>
</html>
